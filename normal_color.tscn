[gd_scene load_steps=16 format=3 uid="uid://c1fu68v3wu72a"]

[ext_resource type="Shader" path="res://normal_color.gdshader" id="1_wydpf"]
[ext_resource type="Script" path="res://color_from_rot.gd" id="2_ktw4g"]
[ext_resource type="Shader" path="res://picked_color.gdshader" id="3_npew3"]
[ext_resource type="Script" path="res://Node3D.gd" id="4_8u2f7"]
[ext_resource type="Shader" uid="uid://chg7w2lkioelq" path="res://grid2.tres" id="5_wy2ei"]
[ext_resource type="Texture2D" uid="uid://c8haskaycwcva" path="res://icon.png" id="6_bov46"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_yhfrj"]
render_priority = 0
shader = ExtResource("1_wydpf")

[sub_resource type="SphereMesh" id="SphereMesh_r4iqt"]
radial_segments = 128
rings = 64

[sub_resource type="SphereShape3D" id="SphereShape3D_op1t5"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_4yhut"]
render_priority = 0
shader = ExtResource("3_npew3")
shader_parameter/picked = Color(1, 1, 1, 1)
shader_parameter/n_amt = 0.73

[sub_resource type="CylinderMesh" id="CylinderMesh_ls1t1"]
top_radius = 0.0
bottom_radius = 0.05
height = 0.15

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_8y3ci"]
sky_top_color = Color(0.0352941, 0.0431373, 0.0588235, 1)
sky_horizon_color = Color(0.133333, 0.137255, 0.141176, 1)
sky_curve = 0.0568394
ground_bottom_color = Color(0, 0, 0, 1)
ground_horizon_color = Color(0.133333, 0.137255, 0.141176, 1)
sun_angle_max = 0.0

[sub_resource type="Sky" id="Sky_v6dyt"]
sky_material = SubResource("ProceduralSkyMaterial_8y3ci")

[sub_resource type="Environment" id="Environment_7dob8"]
background_mode = 2
sky = SubResource("Sky_v6dyt")
ambient_light_source = 1
reflected_light_source = 1

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ms54o"]
render_priority = 0
shader = ExtResource("5_wy2ei")
shader_parameter/gridColor = Color(1, 1, 1, 0.541176)
shader_parameter/checkerColor = Color(0, 0, 0.0392157, 0)
shader_parameter/fadeStart = 0.1
shader_parameter/fadeEnd = 10.0
shader_parameter/unitSize = 1.0
shader_parameter/subdivisions = 4
shader_parameter/majorLineThickness = 2.0
shader_parameter/minorLineThickness = 1.0
shader_parameter/minorLineAlpha = 0.253

[node name="Node3D" type="Node3D"]

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
material_override = SubResource("ShaderMaterial_yhfrj")
mesh = SubResource("SphereMesh_r4iqt")

[node name="StaticBody3D" type="StaticBody3D" parent="MeshInstance3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="MeshInstance3D/StaticBody3D"]
shape = SubResource("SphereShape3D_op1t5")

[node name="Node3D" type="Node3D" parent="MeshInstance3D"]
script = ExtResource("2_ktw4g")

[node name="MeshInstance3D" type="MeshInstance3D" parent="MeshInstance3D/Node3D"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, -2.54228e-09, 0.583123)
material_override = SubResource("ShaderMaterial_4yhut")
mesh = SubResource("CylinderMesh_ls1t1")

[node name="pos_marker" type="Node3D" parent="MeshInstance3D/Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_7dob8")

[node name="Node3D" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.942682, 0.333692, 0, -0.333692, 0.942682, 0, 0, 0)
script = ExtResource("4_8u2f7")

[node name="Camera3D" type="Camera3D" parent="Node3D"]
unique_name_in_owner = true
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1.82478)
current = true
size = 1.2

[node name="grid" type="Sprite3D" parent="Node3D/Camera3D"]
transform = Transform3D(2.43802, 0, 0, 0, 1.75959, -2.98023e-08, 0, 0, 1, 0, -1.19209e-07, -0.904794)
material_override = SubResource("ShaderMaterial_ms54o")
texture = ExtResource("6_bov46")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="ColorRect" type="ColorRect" parent="CanvasLayer"]
unique_name_in_owner = true
offset_right = 189.0
offset_bottom = 40.0

[node name="Label" type="Label" parent="CanvasLayer"]
offset_top = 36.0
offset_right = 68.0
offset_bottom = 85.0
theme_override_font_sizes/font_size = 35
text = "HEX"

[node name="ColorDisplay" type="LineEdit" parent="CanvasLayer/Label"]
unique_name_in_owner = true
offset_left = 67.0
offset_top = -4.0
offset_right = 203.0
offset_bottom = 53.0
theme_override_font_sizes/font_size = 35
text = "HEX"
editable = false
expand_to_text_length = true
shortcut_keys_enabled = false
middle_mouse_paste_enabled = false
drag_and_drop_selection_enabled = false
flat = true
select_all_on_focus = true

[node name="Button" type="Button" parent="CanvasLayer"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -8.0
offset_bottom = 8.0
grow_horizontal = 0
text = "Switch Camera Projection"

[connection signal="input_event" from="MeshInstance3D/StaticBody3D" to="MeshInstance3D/Node3D" method="handle_click"]
[connection signal="pressed" from="CanvasLayer/Button" to="Node3D" method="change_perspective"]
